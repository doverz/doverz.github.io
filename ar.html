<!DOCTYPE html>
<html>
<head>
<title>guaiguai</title>
<script type='text/javascript' src='/static/aframe.min.js'></script>

<!-- <script type='text/javascript' src="{{ url_for('static', filename='aframe.min.js') }}"></script> -->

<!-- <script type='text/javascript' src="{{ url_for('static', filename='ar-threex-location-only.js') }}"></script> -->
<script type='text/javascript' src='/static/ar-threex-location-only.js'></script>
<script type='text/javascript' src='/static/aframe-ar.js'></script>

<!-- <script type='text/javascript' src="{{ url_for('static', filename='aframe-ar.js') }}"></script> -->
</head>
<body>
<a-scene vr-mode-ui='enabled: false' arjs='sourceType: webcam; videoTexture: true; debugUIEnabled: false' renderer='antialias: true; alpha: true'>
    <a-camera  gps-new-camera='gpsMinDistance: 10' position="0 100 500"></a-camera>
    <!-- <a-entity look-controls  gltf-model="/static/pic/guaiguai.gltf" scale="0.08 0.08 0.08" id="a-location" gps-new-entity-place="" ></a-entity> -->
    <!-- <a-nft
    type="nft"
    url='/static/pic/'
    smooth="true"
    smoothCount="10"
    smoothTolerance=".01"
    smoothThreshold="5" -->
    <a-entity position="0 40 450" gltf-model="/static/pic/guaiguai.gltf" scale="2 2 2" id="a-location" gps-new-entity-place="" ></a-entity>
    <a-entity look-controls rotation="0 0 0" position="0 80 400" gltf-model="/static/pic/cat.gltf" scale="0.2 0.2 0.2" id="a-location2" gps-new-entity-place="" ></a-entity>
  <!-- </a-nft> -->
    <!-- <a-entity material='color: red' geometry='primitive: box'  id="a-location" gps-new-entity-place="" scale="10 10 10"></a-entity> -->
</a-scene>

<!-- latitude: 30.2907392; longitude: 120.0160768 -->
<script>
  window.onload = navigator.geolocation.getCurrentPosition(function(position) {
      var entity = document.getElementById('a-location')
      var entity2 = document.getElementById('a-location2')

      var latitude = position.coords.latitude;
      var longitude = position.coords.longitude;
      console.log(latitude+" "+longitude);
      entity.setAttribute('gps-new-entity-place', 'latitude: '+latitude+';' +'longitude:' + longitude);
      entity2.setAttribute('gps-new-entity-place', 'latitude: '+(latitude+0.001)+';' +'longitude:' + (longitude+0.001));
    });
    </script>
</body>
</html>